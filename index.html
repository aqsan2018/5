<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Whack-a-Love-Mole!</title>
Â  Â  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”¨</text></svg>">
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Pacifico', cursive;
Â  Â  Â  Â  Â  Â  background-color: #fce7f3; /* Light pink background */
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  /* Disable touch scrolling on the page */
Â  Â  Â  Â  Â  Â  touch-action: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Main Content (Hidden by default) --- */
Â  Â  Â  Â  #main-content {
Â  Â  Â  Â  Â  Â  visibility: hidden;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease-in;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  position: absolute; /* Take up the whole space */
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  #main-content.visible {
Â  Â  Â  Â  Â  Â  visibility: visible;
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Game Styles (Existing) --- */
Â  Â  Â  Â  #game-area {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(3, 1fr);
Â  Â  Â  Â  Â  Â  grid-template-rows: repeat(3, 1fr);
Â  Â  Â  Â  Â  Â  gap: 1rem;
Â  Â  Â  Â  Â  Â  background-color: #fbcfe8;
Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 2rem;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  margin-bottom: 2rem;
Â  Â  Â  Â  Â  Â  width: 300px;
Â  Â  Â  Â  Â  Â  height: 300px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ... (rest of the existing game CSS) ... */

Â  Â  Â  Â  @media (min-width: 640px) {
Â  Â  Â  Â  Â  Â  #game-area {
Â  Â  Â  Â  Â  Â  Â  Â  gap: 1.5rem;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 1.5rem;
Â  Â  Â  Â  Â  Â  Â  Â  width: 350px;
Â  Â  Â  Â  Â  Â  Â  Â  height: 350px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  .hole {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: #e9d5ff;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  box-shadow: inset 0 5px 10px rgba(0,0,0,0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  .mole {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  bottom: -100px;
Â  Â  Â  Â  Â  Â  transition: bottom 0.2s ease-out;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .mole.up {
Â  Â  Â  Â  Â  Â  bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .mole.hit {
Â  Â  Â  Â  Â  Â  animation: hit-animation 0.2s ease-out;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes hit-animation {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); opacity: 1; }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.2); opacity: 0.8; }
Â  Â  Â  Â  Â  Â  100% { transform: scale(0.8); opacity: 0; }
Â  Â  Â  Â  }

Â  Â  Â  Â  #score-board {
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  padding: 1rem 2rem;
Â  Â  Â  Â  Â  Â  border-radius: 1.5rem;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  margin-bottom: 1.5rem;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 2rem;
Â  Â  Â  Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  Â  Â  Â  color: #be185d;
Â  Â  Â  Â  }

Â  Â  Â  Â  #game-over-screen {
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 255, 255, 0.95);
Â  Â  Â  Â  Â  Â  z-index: 200;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Confetti animation */
Â  Â  Â  Â  .confetti {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  width: 10px;
Â  Â  Â  Â  Â  Â  height: 10px;
Â  Â  Â  Â  Â  Â  background-color: #f0f;
Â  Â  Â  Â  Â  Â  animation: confetti-fall 2s linear forwards;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  z-index: 199;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes confetti-fall {
Â  Â  Â  Â  Â  Â  0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
Â  Â  Â  Â  Â  Â  10% { opacity: 1; }
Â  Â  Â  Â  Â  Â  100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
Â  Â  Â  Â  }

Â  Â  Â  Â  .rain {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: -10vh;
Â  Â  Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  Â  Â  animation: fall 5s linear forwards;
Â  Â  Â  Â  Â  Â  z-index: 300;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes fall {
Â  Â  Â  Â  Â  Â  0% { transform: translateY(0vh); opacity: 1; }
Â  Â  Â  Â  Â  Â  100% { transform: translateY(110vh); opacity: 1; }
Â  Â  Â  Â  }

Â  Â  Â  Â  .bomb-effect {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  font-size: 3rem;
Â  Â  Â  Â  Â  Â  animation: bomb-pop 0.5s ease-out forwards;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  z-index: 400;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes bomb-pop {
Â  Â  Â  Â  Â  Â  0% { transform: scale(0.5); opacity: 1; }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.5); opacity: 0.8; }
Â  Â  Â  Â  Â  Â  100% { transform: scale(1.2); opacity: 0; }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- NEW Password Lock Styles (Pink/Purple Theme) --- */
Â  Â  Â  Â  #password-overlay {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100vw;
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  Â  Â  background-color: rgba(24CE7F3, 0.9); /* Light pink overlay */
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(8px);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  z-index: 500;
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s ease-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  #lock-box {
Â  Â  Â  Â  Â  Â  background-color: #fff; /* White box */
Â  Â  Â  Â  Â  Â  padding: 2rem;
Â  Â  Â  Â  Â  Â  border-radius: 1rem;
Â  Â  Â  Â  Â  Â  border: 4px solid #c084fc; /* Purple border */
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 320px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  #lock-gif {
Â  Â  Â  Â  Â  Â  width: 150px;
Â  Â  Â  Â  Â  Â  height: 150px;
Â  Â  Â  Â  Â  Â  border-radius: 0.75rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 1.5rem;
Â  Â  Â  Â  Â  Â  margin-left: auto;
Â  Â  Â  Â  Â  Â  margin-right: auto;
Â  Â  Â  Â  }

Â  Â  Â  Â  #password-input {
Â  Â  Â  Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 0.75rem 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  border: 2px solid #a855f7; /* Light purple border */
Â  Â  Â  Â  Â  Â  background-color: #f3e8ff; /* Very light purple bg */
Â  Â  Â  Â  Â  Â  color: #3b0764; /* Dark purple text */
Â  Â  Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  letter-spacing: 2px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  #password-input:focus {
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  Â  Â  border-color: #ec4899; /* Pink border on focus */
Â  Â  Â  Â  }

Â  Â  Â  Â  #submit-button {
Â  Â  Â  Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 0.75rem 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 0.5rem;
Â  Â  Â  Â  Â  Â  background-color: #ec4899; /* Hot pink */
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s ease;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  #submit-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #db2777; /* Deeper pink */
Â  Â  Â  Â  }

Â  Â  Â  Â  #error-message {
Â  Â  Â  Â  Â  Â  color: #ef4444; /* Red */
Â  Â  Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  Â  Â  Â  height: 1.25rem;
Â  Â  Â  Â  Â  Â  margin-top: 0.75rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes shake {
Â  Â  Â  Â  Â  Â  0%, 100% { transform: translateX(0); }
Â  Â  Â  Â  Â  Â  25% { transform: translateX(-8px); }
Â  Â  Â  Â  Â  Â  75% { transform: translateX(8px); }
Â  Â  Â  Â  }

Â  Â  Â  Â  .shake {
Â  Â  Â  Â  Â  Â  animation: shake 0.3s ease-in-out;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* --- End Password Lock Styles --- */
Â  Â  </style>
</head>
<body class="overflow-hidden">

Â  Â  Â  Â  <div id="password-overlay">
Â  Â  Â  Â  <form id="lock-box">
Â  Â  Â  Â  Â  Â  <img id="lock-gif" src="dudu-no-dudu.gif" alt="Dudu Bubu No">
Â  Â  Â  Â  Â  Â  <input id="password-input" type="password" placeholder="Enter Password">
Â  Â  Â  Â  Â  Â  <p id="error-message"></p>
Â  Â  Â  Â  Â  Â  <button id="submit-button" type="submit">Unlock Game</button>
Â  Â  Â  Â  </form>
Â  Â  </div>

Â  Â  Â  Â  <div id="main-content">
Â  Â  Â  Â  <div id="score-board">
Â  Â  Â  Â  Â  Â  <div>Score: <span id="score">0</span></div>
Â  Â  Â  Â  Â  Â  <div>Time: <span id="time">30</span>s</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="game-area">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  <button id="start-button" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-8 rounded-full shadow-lg text-2xl mt-8">
Â  Â  Â  Â  Â  Â  Start Game!
Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="game-over-screen" class="hidden absolute inset-0 flex-col items-center justify-center text-center p-6">
Â  Â  Â  Â  Â  Â  <h1 id="final-message" class="text-5xl text-purple-700 mb-4"></h1>
Â  Â  Â  Â  Â  Â  <img id="result-gif" src="" alt="Result GIF" class="w-48 h-48 mx-auto rounded-lg mb-6">
Â  Â  Â  Â  Â  Â  <p id="final-score" class="text-3xl text-gray-700 mb-6"></p>
Â  Â  Â  Â  Â  Â  <button id="play-again-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg text-2xl">
Â  Â  Â  Â  Â  Â  Â  Â  Play Again!
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  </div>


Â  Â  Â  Â  <audio id="good-sound" src="good_sound.mp3"></audio>
Â  Â  <audio id="bad-sound" src="bad_sound.mp3"></audio>

Â  Â  <script>
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {

Â  Â  Â  Â  Â  Â  // --- Password Lock Elements ---
Â  Â  Â  Â  Â  Â  const passwordOverlay = document.getElementById('password-overlay');
Â  Â  Â  Â  Â  Â  const lockBox = document.getElementById('lock-box');
Â  Â  Â  Â  Â  Â  const passwordInput = document.getElementById('password-input');
Â  Â  Â  Â  Â  Â  const errorMessage = document.getElementById('error-message');
Â  Â  Â  Â  Â  Â  const mainContent = document.getElementById('main-content');
Â  Â  Â  Â  Â  Â  const correctPassword = "28072018"; // The password

Â  Â  Â  Â  Â  Â  // --- Game Variables (moved inside initGame for scope) ---
Â  Â  Â  Â  Â  Â  let score = 0;
Â  Â  Â  Â  Â  Â  let time = 30;
Â  Â  Â  Â  Â  Â  let timerId;
Â  Â  Â  Â  Â  Â  let molePopTimerId;
Â  Â  Â  Â  Â  Â  let lastHole;
Â  Â  Â  Â  Â  Â  let gameStarted = false;
Â  Â  Â  Â  Â  Â  let rainInterval;
Â  Â  Â  Â  Â  Â  const holes = [];

Â  Â  Â  Â  Â  Â  // --- Game Elements (declared here for global access) ---
Â  Â  Â  Â  Â  Â  const gameArea = document.getElementById('game-area');
Â  Â  Â  Â  Â  Â  const scoreSpan = document.getElementById('score');
Â  Â  Â  Â  Â  Â  const timeSpan = document.getElementById('time');
Â  Â  Â  Â  Â  Â  const startButton = document.getElementById('start-button');
Â  Â  Â  Â  Â  Â  const gameOverScreen = document.getElementById('game-over-screen');
Â  Â  Â  Â  Â  Â  const finalMessage = document.getElementById('final-message');
Â  Â  Â  Â  Â  Â  const resultGif = document.getElementById('result-gif');
Â  Â  Â  Â  Â  Â  const finalScoreDisplay = document.getElementById('final-score');
Â  Â  Â  Â  Â  Â  const playAgainButton = document.getElementById('play-again-button');
Â  Â  Â  Â  Â  Â  const goodSound = document.getElementById('good-sound');
Â  Â  Â  Â  Â  Â  const badSound = document.getElementById('bad-sound');

Â  Â  Â  Â  Â  Â  // --- Image Constants (placed here for initGame to use) ---
Â  Â  Â  Â  Â  Â  const goodImages = ["good-mole.png", "heart.png", "flower.png"];
Â  Â  Â  Â  Â  Â  const badImages = ["bad-mole.png"];

Â  Â  Â  Â  Â  Â  // --- Game Setup Functions (moved inside the scope to be called by initializeGame) ---

Â  Â  Â  Â  Â  Â  function createHoles() {
Â  Â  Â  Â  Â  Â  Â  Â  gameArea.innerHTML = ''; // Ensure a clean start
Â  Â  Â  Â  Â  Â  Â  Â  holes.length = 0; // Clear the array
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < 9; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const holeDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  holeDiv.classList.add('hole');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const moleDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  moleDiv.classList.add('mole');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  moleDiv.addEventListener('click', whack);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  holeDiv.appendChild(moleDiv);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameArea.appendChild(holeDiv);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  holes.push(holeDiv);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function randomHole(currentHoles) {
Â  Â  Â  Â  Â  Â  Â  Â  const idx = Math.floor(Math.random() * currentHoles.length);
Â  Â  Â  Â  Â  Â  Â  Â  const hole = currentHoles[idx];
Â  Â  Â  Â  Â  Â  Â  Â  if (hole === lastHole) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return randomHole(currentHoles);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  lastHole = hole;
Â  Â  Â  Â  Â  Â  Â  Â  return hole;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function randomTime(min, max) {
Â  Â  Â  Â  Â  Â  Â  Â  return Math.round(Math.random() * (max - min) + min);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function popUpMole() {
Â  Â  Â  Â  Â  Â  Â  Â  if (!gameStarted) return;

Â  Â  Â  Â  Â  Â  Â  Â  const hole = randomHole(holes);
Â  Â  Â  Â  Â  Â  Â  Â  const mole = hole.querySelector('.mole');

Â  Â  Â  Â  Â  Â  Â  Â  const isBadMole = Math.random() < 0.25;
Â  Â  Â  Â  Â  Â  Â  Â  const type = isBadMole ? 'bad' : 'good';
Â  Â  Â  Â  Â  Â  Â  Â  const imageName = isBadMole
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? badImages[Math.floor(Math.random() * badImages.length)]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : goodImages[Math.floor(Math.random() * goodImages.length)];

Â  Â  Â  Â  Â  Â  Â  Â  mole.innerHTML = `<img src="${imageName}" alt="${type}" class="mole-image w-16 h-16 sm:w-20 sm:h-20 pointer-events-none" onerror="this.style.display='none'">`;
Â  Â  Â  Â  Â  Â  Â  Â  mole.dataset.type = type;
Â  Â  Â  Â  Â  Â  Â  Â  mole.classList.remove('hit');

Â  Â  Â  Â  Â  Â  Â  Â  mole.classList.add('up');

Â  Â  Â  Â  Â  Â  Â  Â  const popTime = randomTime(800, 1500);

Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mole.classList.remove('up');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mole.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (gameStarted) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  molePopTimerId = setTimeout(popUpMole, randomTime(1000, 1800));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }, popTime);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function startGame() {
Â  Â  Â  Â  Â  Â  Â  Â  score = 0;
Â  Â  Â  Â  Â  Â  Â  Â  time = 30;
Â  Â  Â  Â  Â  Â  Â  Â  gameStarted = true;
Â  Â  Â  Â  Â  Â  Â  Â  scoreSpan.textContent = score;
Â  Â  Â  Â  Â  Â  Â  Â  timeSpan.textContent = time;
Â  Â  Â  Â  Â  Â  Â  Â  gameOverScreen.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  startButton.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  gameArea.querySelectorAll('.mole').forEach(mole => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mole.classList.remove('up', 'hit');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mole.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  popUpMole();
Â  Â  Â  Â  Â  Â  Â  Â  timerId = setInterval(countdown, 1000);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function countdown() {
Â  Â  Â  Â  Â  Â  Â  Â  time--;
Â  Â  Â  Â  Â  Â  Â  Â  timeSpan.textContent = time;
Â  Â  Â  Â  Â  Â  Â  Â  if (time <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearInterval(timerId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearTimeout(molePopTimerId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameStarted = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  endGame();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function whack(event) {
Â  Â  Â  Â  Â  Â  Â  Â  if (!gameStarted || !event.isTrusted) return;

Â  Â  Â  Â  Â  Â  Â  Â  const mole = event.target;
Â  Â  Â  Â  Â  Â  Â  Â  if (!mole.classList.contains('up')) return;

Â  Â  Â  Â  Â  Â  Â  Â  mole.classList.remove('up');
Â  Â  Â  Â  Â  Â  Â  Â  mole.classList.add('hit');

Â  Â  Â  Â  Â  Â  Â  Â  if (mole.dataset.type === 'good') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  score++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  goodSound.play();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  createConfetti();
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  score = Math.max(0, score - 5);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  badSound.play();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  createBombEffect(event.clientX, event.clientY);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  scoreSpan.textContent = score;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function endGame() {
Â  Â  Â  Â  Â  Â  Â  Â  gameOverScreen.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  finalScoreDisplay.textContent = `Your Score: ${score}`;

Â  Â  Â  Â  Â  Â  Â  Â  if (rainInterval) clearInterval(rainInterval);
Â  Â  Â  Â  Â  Â  Â  Â  document.querySelectorAll('.rain').forEach(el => el.remove()); // Clean up

Â  Â  Â  Â  Â  Â  Â  Â  if (score >= 5) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  finalMessage.textContent = "Dammee Tompleteed!";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resultGif.src = "kiss.gif";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rainInterval = setInterval(() => createRain('â¤ï¸'), 200);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  finalMessage.textContent = "Naap Naap, try again!";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resultGif.src = "cry.gif";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rainInterval = setInterval(() => createRain('ðŸ˜­'), 200);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function createConfetti() {
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < 15; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const confetti = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confetti.classList.add('confetti');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confetti.style.left = `${Math.random() * 100}vw`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confetti.style.animationDelay = `${Math.random() * 0.5}s`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.body.appendChild(confetti);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => confetti.remove(), 2000);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function createRain(emoji) {
Â  Â  Â  Â  Â  Â  Â  Â  const rain = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  rain.classList.add('rain');
Â  Â  Â  Â  Â  Â  Â  Â  rain.textContent = emoji;
Â  Â  Â  Â  Â  Â  Â  Â  rain.style.left = `${Math.random() * 100}vw`;
Â  Â  Â  Â  Â  Â  Â  Â  rain.style.animationDuration = `${Math.random() * 2 + 3}s`;
Â  Â  Â  Â  Â  Â  Â  Â  document.body.appendChild(rain);
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => { rain.remove(); }, 5000);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function createBombEffect(x, y) {
Â  Â  Â  Â  Â  Â  Â  Â  const bomb = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  bomb.classList.add('bomb-effect');
Â  Â  Â  Â  Â  Â  Â  Â  bomb.textContent = 'ðŸ’£';
Â  Â  Â  Â  Â  Â  Â  Â  bomb.style.left = `${x - 24}px`;
Â  Â  Â  Â  Â  Â  Â  Â  bomb.style.top = `${y - 24}px`;
Â  Â  Â  Â  Â  Â  Â  Â  document.body.appendChild(bomb);
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => { bomb.remove(); }, 500);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Function to attach all game event listeners
Â  Â  Â  Â  Â  Â  function setupGameListeners() {
Â  Â  Â  Â  Â  Â  Â  Â  startButton.addEventListener('click', startGame);
Â  Â  Â  Â  Â  Â  Â  Â  playAgainButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  gameOverScreen.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startButton.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (rainInterval) clearInterval(rainInterval);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.querySelectorAll('.rain').forEach(el => el.remove());
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function initializeGame() {
Â  Â  Â  Â  Â  Â  Â  Â  createHoles();
Â  Â  Â  Â  Â  Â  Â  Â  setupGameListeners();
Â  Â  Â  Â  Â  Â  }


Â  Â  Â  Â  Â  Â  // --- Password Lock Logic ---
Â  Â  Â  Â  Â  Â  if (sessionStorage.getItem('isUnlocked') === 'true') {
Â  Â  Â  Â  Â  Â  Â  Â  passwordOverlay.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  mainContent.classList.add('visible');
Â  Â  Â  Â  Â  Â  Â  Â  initializeGame();
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // Ensure the main content is hidden until unlocked
Â  Â  Â  Â  Â  Â  Â  Â  mainContent.classList.remove('visible');
Â  Â  Â  Â  Â  Â  }


Â  Â  Â  Â  Â  Â  lockBox.addEventListener('submit', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  const enteredPassword = passwordInput.value;

Â  Â  Â  Â  Â  Â  Â  Â  if (enteredPassword === correctPassword) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sessionStorage.setItem('isUnlocked', 'true');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  passwordOverlay.style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  passwordOverlay.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 300);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mainContent.classList.add('visible');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initializeGame();
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMessage.textContent = 'Wrong Password. Try Again!';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lockBox.classList.add('shake');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  passwordInput.value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lockBox.classList.remove('shake');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMessage.textContent = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
